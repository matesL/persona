{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE_URL = \"http://localhost:8080/\";\nconst instance = {\n  baseURL: API_BASE_URL,\n  withCredentials: true // 开启跨域请求\n};\n\nclass AxiosHttp {\n  constructor(config) {\n    this.service = '';\n    this.service = axios.create(config);\n    console.log(\"请求处理\");\n    //请求处理\n    this.service.interceptors.request.use(config => {\n      console.log(config, \"config\");\n      return {\n        ...config,\n        headers: {\n          ...config.headers\n        }\n      };\n    }, err => {\n      console.log(err);\n      return Promise.reject(err);\n    });\n    //响应处理\n    this.service.interceptors.response.use(response => {\n      console.log(response, \"response\");\n      const {\n        data\n      } = response;\n      if (data.status !== 200) {\n        console.log(data, \"response\");\n        return Promise.reject(response);\n      }\n      return data;\n    }, err => {\n      console.log(err);\n      return Promise.reject(err);\n    });\n  }\n  get(url, params, _object) {\n    console.log(url, \"url\");\n    return this.service.get(url, {\n      params,\n      ..._object\n    });\n  }\n  post(url, params, _object) {\n    return this.service.post(url, params, _object);\n  }\n  put(url, params, _object) {\n    return this.service.put(url, params, _object);\n  }\n  delete(url, params, _object) {\n    return this.service.delete(url, {\n      params,\n      ..._object\n    });\n  }\n  patch(url, params, _object) {\n    return this.service.patch(url, params, _object);\n  }\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default new AxiosHttp(instance);","map":{"version":3,"names":["axios","API_BASE_URL","instance","baseURL","withCredentials","AxiosHttp","constructor","config","service","create","console","log","interceptors","request","use","headers","err","Promise","reject","response","data","status","get","url","params","_object","post","put","delete","patch"],"sources":["E:/vsCode/react—list/my-app/src/api/request.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_BASE_URL = \"http://localhost:8080/\";\r\nconst instance = {\r\n  baseURL: API_BASE_URL,\r\n  withCredentials: true, // 开启跨域请求\r\n} \r\nclass AxiosHttp {\r\n  service = ''\r\n  constructor(config) {\r\n    this.service = axios.create(config)\r\n    console.log(\"请求处理\");\r\n    //请求处理\r\n    this.service.interceptors.request.use(\r\n      (config) => {\r\n        console.log(config,\"config\");\r\n        return { ...config, headers: { ...config.headers } }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        return Promise.reject(err)\r\n      }\r\n    )\r\n    //响应处理\r\n    this.service.interceptors.response.use(\r\n      (response) => {\r\n        console.log(response,\"response\");\r\n        const { data } = response\r\n        if (data.status!== 200) {\r\n          console.log(data,\"response\");\r\n          return Promise.reject(response)\r\n        }\r\n        return data\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n        return Promise.reject(err)\r\n      }\r\n    )\r\n  }\r\n  get(url, params, _object) {\r\n    console.log(url,\"url\");\r\n    return this.service.get(url, { params, ..._object })\r\n  }\r\n  post(url, params, _object) {\r\n    \r\n    return this.service.post(url, params, _object)\r\n  }\r\n  put(url, params, _object) {\r\n    return this.service.put(url, params, _object);\r\n  }\r\n\r\n  delete(url, params, _object) {\r\n    return this.service.delete(url, { params, ..._object });\r\n  }\r\n\r\n  patch(url, params, _object) {\r\n    return this.service.patch(url, params, _object);\r\n  }\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default new AxiosHttp(instance);"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG,wBAAwB;AAC7C,MAAMC,QAAQ,GAAG;EACfC,OAAO,EAAEF,YAAY;EACrBG,eAAe,EAAE,IAAI,CAAE;AACzB,CAAC;;AACD,MAAMC,SAAS,CAAC;EAEdC,WAAWA,CAACC,MAAM,EAAE;IAAA,KADpBC,OAAO,GAAG,EAAE;IAEV,IAAI,CAACA,OAAO,GAAGR,KAAK,CAACS,MAAM,CAACF,MAAM,CAAC;IACnCG,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnB;IACA,IAAI,CAACH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAClCP,MAAM,IAAK;MACVG,OAAO,CAACC,GAAG,CAACJ,MAAM,EAAC,QAAQ,CAAC;MAC5B,OAAO;QAAE,GAAGA,MAAM;QAAEQ,OAAO,EAAE;UAAE,GAAGR,MAAM,CAACQ;QAAQ;MAAE,CAAC;IACtD,CAAC,EACAC,GAAG,IAAK;MACPN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;MAChB,OAAOC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;IAC5B,CAAC,CACF;IACD;IACA,IAAI,CAACR,OAAO,CAACI,YAAY,CAACO,QAAQ,CAACL,GAAG,CACnCK,QAAQ,IAAK;MACZT,OAAO,CAACC,GAAG,CAACQ,QAAQ,EAAC,UAAU,CAAC;MAChC,MAAM;QAAEC;MAAK,CAAC,GAAGD,QAAQ;MACzB,IAAIC,IAAI,CAACC,MAAM,KAAI,GAAG,EAAE;QACtBX,OAAO,CAACC,GAAG,CAACS,IAAI,EAAC,UAAU,CAAC;QAC5B,OAAOH,OAAO,CAACC,MAAM,CAACC,QAAQ,CAAC;MACjC;MACA,OAAOC,IAAI;IACb,CAAC,EACAJ,GAAG,IAAK;MACPN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;MAChB,OAAOC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC;IAC5B,CAAC,CACF;EACH;EACAM,GAAGA,CAACC,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAE;IACxBf,OAAO,CAACC,GAAG,CAACY,GAAG,EAAC,KAAK,CAAC;IACtB,OAAO,IAAI,CAACf,OAAO,CAACc,GAAG,CAACC,GAAG,EAAE;MAAEC,MAAM;MAAE,GAAGC;IAAQ,CAAC,CAAC;EACtD;EACAC,IAAIA,CAACH,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAE;IAEzB,OAAO,IAAI,CAACjB,OAAO,CAACkB,IAAI,CAACH,GAAG,EAAEC,MAAM,EAAEC,OAAO,CAAC;EAChD;EACAE,GAAGA,CAACJ,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAE;IACxB,OAAO,IAAI,CAACjB,OAAO,CAACmB,GAAG,CAACJ,GAAG,EAAEC,MAAM,EAAEC,OAAO,CAAC;EAC/C;EAEAG,MAAMA,CAACL,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAE;IAC3B,OAAO,IAAI,CAACjB,OAAO,CAACoB,MAAM,CAACL,GAAG,EAAE;MAAEC,MAAM;MAAE,GAAGC;IAAQ,CAAC,CAAC;EACzD;EAEAI,KAAKA,CAACN,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAE;IAC1B,OAAO,IAAI,CAACjB,OAAO,CAACqB,KAAK,CAACN,GAAG,EAAEC,MAAM,EAAEC,OAAO,CAAC;EACjD;AACF;;AAEA;AACA,eAAe,IAAIpB,SAAS,CAACH,QAAQ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}