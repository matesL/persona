{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE_URL = \"http://localhost:8080/\";\nconst instance = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true // 开启跨域请求\n});\n\nclass AxiosHttp {\n  constructor(config) {\n    this.service = axios.create();\n    this.service(config);\n    //请求处理\n    this.service.instance.request.use(config => {\n      return {\n        ...config,\n        headers: {\n          ...config.headers,\n          token: '22222'\n        }\n      };\n    }, err => {\n      console.log(err);\n    });\n    //响应处理\n    this.service.instance.response.use(config => {\n      const {\n        data,\n        code\n      } = config;\n      if (code !== 200) {}\n      return data;\n    }, err => {\n      console.log(err);\n    });\n  }\n  get(url, params, _object) {\n    return this.service.get(url, {\n      params,\n      ..._object\n    });\n  }\n  post(url, params, _object) {\n    return this.service.post(url, params, _object);\n  }\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default new AxiosHttp(instance);","map":{"version":3,"names":["axios","API_BASE_URL","instance","create","baseURL","withCredentials","AxiosHttp","constructor","config","service","request","use","headers","token","err","console","log","response","data","code","get","url","params","_object","post"],"sources":["E:/vsCode/react—list/my-app/src/api/request.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_BASE_URL = \"http://localhost:8080/\";\r\nconst instance = axios.create({\r\n    baseURL: API_BASE_URL,\r\n    withCredentials: true, // 开启跨域请求\r\n  });\r\nclass AxiosHttp {\r\n  service = axios.create()\r\n  constructor(config){\r\n  this.service(config)\r\n  //请求处理\r\n  this.service.instance.request.use(\r\n    (config)=>{\r\n\r\n      return {...config,headers:{...config.headers,token:'22222'}}\r\n    },\r\n    (err)=>{\r\n      console.log(err);\r\n    }\r\n   )\r\n   //响应处理\r\n   this.service.instance.response.use(\r\n    (config)=>{\r\n      const {data,code} = config\r\n      if(code !== 200){\r\n\r\n      }\r\n      return data\r\n    },\r\n    (err)=>{\r\n      console.log(err);\r\n    }\r\n   )\r\n}\r\nget(url,params,_object){\r\n  return this.service.get(url,{params,..._object})\r\n}\r\npost(url,params,_object){\r\n  return this.service.post(url,params,_object)\r\n}\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default new AxiosHttp(instance);"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG,wBAAwB;AAC7C,MAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC1BC,OAAO,EAAEH,YAAY;EACrBI,eAAe,EAAE,IAAI,CAAE;AACzB,CAAC,CAAC;;AACJ,MAAMC,SAAS,CAAC;EAEdC,WAAWA,CAACC,MAAM,EAAC;IAAA,KADnBC,OAAO,GAAGT,KAAK,CAACG,MAAM,EAAE;IAExB,IAAI,CAACM,OAAO,CAACD,MAAM,CAAC;IACpB;IACA,IAAI,CAACC,OAAO,CAACP,QAAQ,CAACQ,OAAO,CAACC,GAAG,CAC9BH,MAAM,IAAG;MAER,OAAO;QAAC,GAAGA,MAAM;QAACI,OAAO,EAAC;UAAC,GAAGJ,MAAM,CAACI,OAAO;UAACC,KAAK,EAAC;QAAO;MAAC,CAAC;IAC9D,CAAC,EACAC,GAAG,IAAG;MACLC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CACD;IACD;IACA,IAAI,CAACL,OAAO,CAACP,QAAQ,CAACe,QAAQ,CAACN,GAAG,CAChCH,MAAM,IAAG;MACR,MAAM;QAACU,IAAI;QAACC;MAAI,CAAC,GAAGX,MAAM;MAC1B,IAAGW,IAAI,KAAK,GAAG,EAAC,CAEhB;MACA,OAAOD,IAAI;IACb,CAAC,EACAJ,GAAG,IAAG;MACLC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CACD;EACJ;EACAM,GAAGA,CAACC,GAAG,EAACC,MAAM,EAACC,OAAO,EAAC;IACrB,OAAO,IAAI,CAACd,OAAO,CAACW,GAAG,CAACC,GAAG,EAAC;MAACC,MAAM;MAAC,GAAGC;IAAO,CAAC,CAAC;EAClD;EACAC,IAAIA,CAACH,GAAG,EAACC,MAAM,EAACC,OAAO,EAAC;IACtB,OAAO,IAAI,CAACd,OAAO,CAACe,IAAI,CAACH,GAAG,EAACC,MAAM,EAACC,OAAO,CAAC;EAC9C;AACA;;AAEA;AACA,eAAe,IAAIjB,SAAS,CAACJ,QAAQ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}