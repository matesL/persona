{"ast":null,"code":"import _classCallCheck from\"E:/vsCode/react\\u2014list/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/vsCode/react\\u2014list/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"E:/vsCode/react\\u2014list/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"E:/vsCode/react\\u2014list/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{PureComponent}from'react';import'../meetstyle/File.css';import'react-pdf/dist/esm/Page/AnnotationLayer.css';import{Document,Page,pdfjs}from\"react-pdf\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";pdfjs.GlobalWorkerOptions.workerSrc=\"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version,\"/pdf.worker.js\");var Pdf=/*#__PURE__*/function(_PureComponent){_inherits(Pdf,_PureComponent);var _super=_createSuper(Pdf);function Pdf(){var _this;_classCallCheck(this,Pdf);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={pageNumber:1,pageNumberInput:1,pageNumberFocus:false,numPages:1,pageWidth:600,fullscreen:false};_this.lastPage=function(){if(_this.state.pageNumber===1){return;}var page=_this.state.pageNumber-1;_this.setState({pageNumber:page,pageNumberInput:page});};_this.nextPage=function(){if(_this.state.pageNumber===_this.state.numPages){return;}var page=_this.state.pageNumber+1;_this.setState({pageNumber:page,pageNumberInput:page});};_this.onPageNumberFocus=function(e){_this.setState({pageNumberFocus:true});};_this.onPageNumberBlur=function(e){_this.setState({pageNumberFocus:false,pageNumberInput:_this.state.pageNumber});};_this.onPageNumberChange=function(e){var value=e.target.value;value=value<=0?1:value;value=value>=_this.state.numPages?_this.state.numPages:value;_this.setState({pageNumberInput:value});};_this.toPage=function(e){if(e.keyCode===13){_this.setState({pageNumber:Number(e.target.value)});}};_this.pageZoomOut=function(){if(_this.state.pageWidth<=503){return;}var pageWidth=_this.state.pageWidth*0.8;_this.setState({pageWidth:pageWidth});};_this.pageZoomIn=function(){var pageWidth=_this.state.pageWidth*1.2;_this.setState({pageWidth:pageWidth});};_this.pageFullscreen=function(){if(_this.state.fullscreen){_this.setState({fullscreen:false,pageWidth:600});}else{_this.setState({fullscreen:true,pageWidth:window.screen.width-40});}};return _this;}_createClass(Pdf,[{key:\"render\",value:function render(){var prfUrl=this.props.prfUrl;var _this$state=this.state,pageNumber=_this$state.pageNumber,pageNumberFocus=_this$state.pageNumberFocus,pageNumberInput=_this$state.pageNumberInput,numPages=_this$state.numPages,pageWidth=_this$state.pageWidth,fullscreen=_this$state.fullscreen;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Document,{file:prfUrl,onLoadSuccess:this.onDocumentLoadSuccess,loading:\"加载中...\",renderTextLayer:false,children:/*#__PURE__*/_jsx(Page,{pageNumber:pageNumber,width:pageWidth,loading:\"加载中...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-tool\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-tool-item\",onClick:this.lastPage,children:[\" \",\"\\u4E0A\\u4E00\\u9875\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-tool-item\",onClick:this.nextPage,children:[\" \",\"\\u4E0B\\u4E00\\u9875\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"input\",{value:pageNumberFocus?pageNumberInput:pageNumber,onFocus:this.onPageNumberFocus,onBlur:this.onPageNumberBlur,onChange:this.onPageNumberChange,onKeyDown:this.toPage,type:\"number\"}),\" \",\"/ \",numPages]}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-tool-item\",onClick:this.pageZoomIn,children:[\" \",\"\\u653E\\u5927\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-tool-item\",onClick:this.pageZoomOut,children:[\" \",\"\\u7F29\\u5C0F\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"page-tool-item\",onClick:this.pageFullscreen,children:fullscreen?\"恢复默认\":\"适合窗口\"})]})]});}}]);return Pdf;}(PureComponent);export{Pdf as default};","map":{"version":3,"names":["React","PureComponent","Document","Page","pdfjs","jsx","_jsx","jsxs","_jsxs","GlobalWorkerOptions","workerSrc","concat","version","Pdf","_PureComponent","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","state","pageNumber","pageNumberInput","pageNumberFocus","numPages","pageWidth","fullscreen","lastPage","page","setState","nextPage","onPageNumberFocus","e","onPageNumberBlur","onPageNumberChange","value","target","toPage","keyCode","Number","pageZoomOut","pageZoomIn","pageFullscreen","window","screen","width","_createClass","key","render","prfUrl","props","_this$state","className","children","file","onLoadSuccess","onDocumentLoadSuccess","loading","renderTextLayer","onClick","onFocus","onBlur","onChange","onKeyDown","type","default"],"sources":["E:/vsCode/react—list/my-app/src/pages/PDFview.jsx"],"sourcesContent":["\r\n\r\nimport React, { PureComponent } from 'react';\r\n\r\nimport '../meetstyle/File.css';\r\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\n\r\n\r\nexport default class Pdf extends PureComponent {\r\n    \r\n    state = {\r\n      pageNumber: 1,\r\n      pageNumberInput: 1,\r\n      pageNumberFocus: false,\r\n      numPages: 1,\r\n      pageWidth: 600,\r\n      fullscreen: false\r\n    };\r\n  \r\n    lastPage = () => {\r\n        if (this.state.pageNumber === 1) {\r\n            return;\r\n        }\r\n        const page = this.state.pageNumber - 1;\r\n        this.setState({ pageNumber: page, pageNumberInput: page });\r\n    };\r\n    nextPage = () => {\r\n        if (this.state.pageNumber === this.state.numPages) {\r\n            return;\r\n        }\r\n        const page = this.state.pageNumber + 1;\r\n        this.setState({ pageNumber: page, pageNumberInput: page });\r\n    };\r\n    onPageNumberFocus = (e) => {\r\n        this.setState({ pageNumberFocus: true });\r\n    };\r\n    onPageNumberBlur = (e) => {\r\n        this.setState({\r\n            pageNumberFocus: false,\r\n            pageNumberInput: this.state.pageNumber,\r\n        });\r\n    };\r\n    onPageNumberChange = (e) => {\r\n        let value = e.target.value;\r\n        value = value <= 0 ? 1 : value;\r\n        value = value >= this.state.numPages ? this.state.numPages : value;\r\n        this.setState({ pageNumberInput: value });\r\n    };\r\n    toPage = (e) => {\r\n        if (e.keyCode === 13) {\r\n            this.setState({ pageNumber: Number(e.target.value) });\r\n        }\r\n    };\r\n\r\n    pageZoomOut = () => {\r\n        if (this.state.pageWidth <= 503) {\r\n            return;\r\n        }\r\n        const pageWidth = this.state.pageWidth * 0.8;\r\n        this.setState({ pageWidth: pageWidth });\r\n    };\r\n    pageZoomIn = () => {\r\n        const pageWidth = this.state.pageWidth * 1.2;\r\n        this.setState({ pageWidth: pageWidth });\r\n    };\r\n\r\n    pageFullscreen = () => {\r\n        if (this.state.fullscreen) {\r\n            this.setState({ fullscreen: false, pageWidth: 600 });\r\n        } else {\r\n            this.setState({ fullscreen: true, pageWidth: window.screen.width - 40 });\r\n        }\r\n    }; \r\n\r\n    render() {\r\n        const { prfUrl } = this.props\r\n      const { pageNumber, pageNumberFocus, pageNumberInput,numPages, pageWidth, fullscreen } = this.state;\r\n      return (\r\n        <div className=\"container\">\r\n        <Document\r\n            file={prfUrl}\r\n            onLoadSuccess={this.onDocumentLoadSuccess}\r\n            loading={\"加载中...\"}\r\n            renderTextLayer={false}\r\n        >\r\n            <Page\r\n                pageNumber={pageNumber}\r\n                width={pageWidth}\r\n                loading={\"加载中...\"}\r\n            />\r\n        </Document>\r\n    \r\n    \r\n        <div className=\"page-tool\">\r\n                    <div className=\"page-tool-item\" onClick={this.lastPage}>\r\n                        {\" \"}\r\n                        上一页\r\n                    </div>\r\n                    <div className=\"page-tool-item\" onClick={this.nextPage}>\r\n                        {\" \"}\r\n                        下一页\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <input\r\n                            value={pageNumberFocus ? pageNumberInput : pageNumber}\r\n                            onFocus={this.onPageNumberFocus}\r\n                            onBlur={this.onPageNumberBlur}\r\n                            onChange={this.onPageNumberChange}\r\n                            onKeyDown={this.toPage}\r\n                            type=\"number\"\r\n                        />{\" \"}\r\n                        / {numPages}\r\n                    </div>\r\n                    <div className=\"page-tool-item\" onClick={this.pageZoomIn}>\r\n                        {\" \"}\r\n                        放大\r\n                    </div>\r\n                    <div className=\"page-tool-item\" onClick={this.pageZoomOut}>\r\n                        {\" \"}\r\n                        缩小\r\n                    </div>\r\n                    <div className=\"page-tool-item\" onClick={this.pageFullscreen}>\r\n                        {fullscreen ? \"恢复默认\" : \"适合窗口\"}\r\n                    </div>\r\n                </div>\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }  \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}