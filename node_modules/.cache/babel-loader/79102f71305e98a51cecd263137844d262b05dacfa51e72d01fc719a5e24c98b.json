{"ast":null,"code":"import request from \"./request\";\n\n// 请求上传图片接口\nexport const uploadimage = data => {\n  return request.post('/api/upload', data, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n};\n\n// 请求pdf文件\nexport const requestPDF = () => {\n  // { url: 'http://example.com/sample.pdf', httpHeaders: { 'X-CustomHeader': '40359820958024350238508234' }, withCredentials: true }\n\n  return fetch(\"/api/pdf\").then(response => response.blob()).then(blob => {\n    const reader = new FileReader();\n    return new Promise((resolve, reject) => {\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    });\n  });\n};","map":{"version":3,"names":["request","uploadimage","data","post","headers","requestPDF","fetch","then","response","blob","reader","FileReader","Promise","resolve","reject","onload","result","onerror","readAsDataURL"],"sources":["E:/vsCode/react—list/my-app/src/api/upload.js"],"sourcesContent":["import request from \"./request\";\r\n\r\n// 请求上传图片接口\r\nexport const uploadimage = (data) => { \r\n  return request.post('/api/upload',\r\n  data,\r\n  {\r\n    headers:{ 'Content-Type': 'multipart/form-data'}\r\n  })\r\n};\r\n\r\n// 请求pdf文件\r\nexport const requestPDF = () => { \r\n  // { url: 'http://example.com/sample.pdf', httpHeaders: { 'X-CustomHeader': '40359820958024350238508234' }, withCredentials: true }\r\n\r\n  return  fetch(\"/api/pdf\").then((response) => response.blob())\r\n  .then((blob) => {\r\n    const reader = new FileReader();\r\n    return new Promise((resolve, reject) => {\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = reject;\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  });\r\n  }\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,WAAW;;AAE/B;AACA,OAAO,MAAMC,WAAW,GAAIC,IAAI,IAAK;EACnC,OAAOF,OAAO,CAACG,IAAI,CAAC,aAAa,EACjCD,IAAI,EACJ;IACEE,OAAO,EAAC;MAAE,cAAc,EAAE;IAAqB;EACjD,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC9B;;EAEA,OAAQC,KAAK,CAAC,UAAU,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CAC5DF,IAAI,CAAEE,IAAI,IAAK;IACd,MAAMC,MAAM,GAAG,IAAIC,UAAU,EAAE;IAC/B,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCJ,MAAM,CAACK,MAAM,GAAG,MAAMF,OAAO,CAACH,MAAM,CAACM,MAAM,CAAC;MAC5CN,MAAM,CAACO,OAAO,GAAGH,MAAM;MACvBJ,MAAM,CAACQ,aAAa,CAACT,IAAI,CAAC;IAC5B,CAAC,CAAC;EACJ,CAAC,CAAC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}