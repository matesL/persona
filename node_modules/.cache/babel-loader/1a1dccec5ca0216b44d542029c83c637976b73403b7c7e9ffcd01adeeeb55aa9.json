{"ast":null,"code":"var _jsxFileName = \"E:\\\\vsCode\\\\react\\u2014list\\\\my-app\\\\src\\\\pages\\\\PDFview.jsx\";\nimport React, { PureComponent } from 'react';\nimport '../meetstyle/File.css';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport { Document, Page, pdfjs } from \"react-pdf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\nexport default class Pdf extends PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      pageNumber: 1,\n      pageNumberInput: 1,\n      pageNumberFocus: false,\n      numPages: 1,\n      pageWidth: 600,\n      fullscreen: false\n    };\n    this.lastPage = () => {\n      if (this.state.pageNumber === 1) {\n        return;\n      }\n      const page = this.state.pageNumber - 1;\n      this.setState({\n        pageNumber: page,\n        pageNumberInput: page\n      });\n    };\n    this.nextPage = () => {\n      if (this.state.pageNumber === this.state.numPages) {\n        return;\n      }\n      const page = this.state.pageNumber + 1;\n      this.setState({\n        pageNumber: page,\n        pageNumberInput: page\n      });\n    };\n    this.onPageNumberFocus = e => {\n      this.setState({\n        pageNumberFocus: true\n      });\n    };\n    this.onPageNumberBlur = e => {\n      this.setState({\n        pageNumberFocus: false,\n        pageNumberInput: this.state.pageNumber\n      });\n    };\n    this.onPageNumberChange = e => {\n      let value = e.target.value;\n      value = value <= 0 ? 1 : value;\n      value = value >= this.state.numPages ? this.state.numPages : value;\n      this.setState({\n        pageNumberInput: value\n      });\n    };\n    this.toPage = e => {\n      if (e.keyCode === 13) {\n        this.setState({\n          pageNumber: Number(e.target.value)\n        });\n      }\n    };\n    this.pageZoomOut = () => {\n      if (this.state.pageWidth <= 503) {\n        return;\n      }\n      const pageWidth = this.state.pageWidth * 0.8;\n      this.setState({\n        pageWidth: pageWidth\n      });\n    };\n    this.pageZoomIn = () => {\n      const pageWidth = this.state.pageWidth * 1.2;\n      this.setState({\n        pageWidth: pageWidth\n      });\n    };\n    this.pageFullscreen = () => {\n      if (this.state.fullscreen) {\n        this.setState({\n          fullscreen: false,\n          pageWidth: 600\n        });\n      } else {\n        this.setState({\n          fullscreen: true,\n          pageWidth: window.screen.width - 40\n        });\n      }\n    };\n  }\n  render() {\n    const {\n      prfUrl\n    } = this.props;\n    const {\n      pageNumber,\n      pageNumberFocus,\n      pageNumberInput,\n      numPages,\n      pageWidth,\n      fullscreen\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Document, {\n        file: prfUrl,\n        onLoadSuccess: this.onDocumentLoadSuccess,\n        loading: \"加载中...\",\n        renderTextLayer: false,\n        children: /*#__PURE__*/_jsxDEV(Page, {\n          pageNumber: pageNumber,\n          width: pageWidth,\n          loading: \"加载中...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-tool\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-tool-item\",\n          onClick: this.lastPage,\n          children: [\" \", \"\\u4E0A\\u4E00\\u9875\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-tool-item\",\n          onClick: this.nextPage,\n          children: [\" \", \"\\u4E0B\\u4E00\\u9875\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            value: pageNumberFocus ? pageNumberInput : pageNumber,\n            onFocus: this.onPageNumberFocus,\n            onBlur: this.onPageNumberBlur,\n            onChange: this.onPageNumberChange,\n            onKeyDown: this.toPage,\n            type: \"number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), \" \", \"/ \", numPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-tool-item\",\n          onClick: this.pageZoomIn,\n          children: [\" \", \"\\u653E\\u5927\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-tool-item\",\n          onClick: this.pageZoomOut,\n          children: [\" \", \"\\u7F29\\u5C0F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-tool-item\",\n          onClick: this.pageFullscreen,\n          children: fullscreen ? \"恢复默认\" : \"适合窗口\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this);\n  }\n}","map":{"version":3,"names":["React","PureComponent","Document","Page","pdfjs","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","version","Pdf","constructor","arguments","state","pageNumber","pageNumberInput","pageNumberFocus","numPages","pageWidth","fullscreen","lastPage","page","setState","nextPage","onPageNumberFocus","e","onPageNumberBlur","onPageNumberChange","value","target","toPage","keyCode","Number","pageZoomOut","pageZoomIn","pageFullscreen","window","screen","width","render","prfUrl","props","className","children","file","onLoadSuccess","onDocumentLoadSuccess","loading","renderTextLayer","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onFocus","onBlur","onChange","onKeyDown","type"],"sources":["E:/vsCode/react—list/my-app/src/pages/PDFview.jsx"],"sourcesContent":["\r\n\r\nimport React, { PureComponent } from 'react';\r\n\r\nimport '../meetstyle/File.css';\r\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\n\r\n\r\nexport default class Pdf extends PureComponent {\r\n    \r\n    state = {\r\n      pageNumber: 1,\r\n      pageNumberInput: 1,\r\n      pageNumberFocus: false,\r\n      numPages: 1,\r\n      pageWidth: 600,\r\n      fullscreen: false\r\n    };\r\n  \r\n    lastPage = () => {\r\n        if (this.state.pageNumber === 1) {\r\n            return;\r\n        }\r\n        const page = this.state.pageNumber - 1;\r\n        this.setState({ pageNumber: page, pageNumberInput: page });\r\n    };\r\n    nextPage = () => {\r\n        if (this.state.pageNumber === this.state.numPages) {\r\n            return;\r\n        }\r\n        const page = this.state.pageNumber + 1;\r\n        this.setState({ pageNumber: page, pageNumberInput: page });\r\n    };\r\n    onPageNumberFocus = (e) => {\r\n        this.setState({ pageNumberFocus: true });\r\n    };\r\n    onPageNumberBlur = (e) => {\r\n        this.setState({\r\n            pageNumberFocus: false,\r\n            pageNumberInput: this.state.pageNumber,\r\n        });\r\n    };\r\n    onPageNumberChange = (e) => {\r\n        let value = e.target.value;\r\n        value = value <= 0 ? 1 : value;\r\n        value = value >= this.state.numPages ? this.state.numPages : value;\r\n        this.setState({ pageNumberInput: value });\r\n    };\r\n    toPage = (e) => {\r\n        if (e.keyCode === 13) {\r\n            this.setState({ pageNumber: Number(e.target.value) });\r\n        }\r\n    };\r\n\r\n    pageZoomOut = () => {\r\n        if (this.state.pageWidth <= 503) {\r\n            return;\r\n        }\r\n        const pageWidth = this.state.pageWidth * 0.8;\r\n        this.setState({ pageWidth: pageWidth });\r\n    };\r\n    pageZoomIn = () => {\r\n        const pageWidth = this.state.pageWidth * 1.2;\r\n        this.setState({ pageWidth: pageWidth });\r\n    };\r\n\r\n    pageFullscreen = () => {\r\n        if (this.state.fullscreen) {\r\n            this.setState({ fullscreen: false, pageWidth: 600 });\r\n        } else {\r\n            this.setState({ fullscreen: true, pageWidth: window.screen.width - 40 });\r\n        }\r\n    }; \r\n\r\n    render() {\r\n        const { prfUrl } = this.props\r\n      const { pageNumber, pageNumberFocus, pageNumberInput,numPages, pageWidth, fullscreen } = this.state;\r\n      return (\r\n        <div className=\"container\">\r\n        <Document\r\n            file={prfUrl}\r\n            onLoadSuccess={this.onDocumentLoadSuccess}\r\n            loading={\"加载中...\"}\r\n            renderTextLayer={false}\r\n        >\r\n            <Page\r\n                pageNumber={pageNumber}\r\n                width={pageWidth}\r\n                loading={\"加载中...\"}\r\n            />\r\n        </Document>\r\n    \r\n    \r\n        <div className=\"page-tool\">\r\n                    <div className=\"page-tool-item\" onClick={this.lastPage}>\r\n                        {\" \"}\r\n                        上一页\r\n                    </div>\r\n                    <div className=\"page-tool-item\" onClick={this.nextPage}>\r\n                        {\" \"}\r\n                        下一页\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <input\r\n                            value={pageNumberFocus ? pageNumberInput : pageNumber}\r\n                            onFocus={this.onPageNumberFocus}\r\n                            onBlur={this.onPageNumberBlur}\r\n                            onChange={this.onPageNumberChange}\r\n                            onKeyDown={this.toPage}\r\n                            type=\"number\"\r\n                        />{\" \"}\r\n                        / {numPages}\r\n                    </div>\r\n                    <div className=\"page-tool-item\" onClick={this.pageZoomIn}>\r\n                        {\" \"}\r\n                        放大\r\n                    </div>\r\n                    <div className=\"page-tool-item\" onClick={this.pageZoomOut}>\r\n                        {\" \"}\r\n                        缩小\r\n                    </div>\r\n                    <div className=\"page-tool-item\" onClick={this.pageFullscreen}>\r\n                        {fullscreen ? \"恢复默认\" : \"适合窗口\"}\r\n                    </div>\r\n                </div>\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }  \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}