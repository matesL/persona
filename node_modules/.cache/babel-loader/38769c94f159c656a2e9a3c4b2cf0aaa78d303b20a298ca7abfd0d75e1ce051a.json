{"ast":null,"code":"import request from \"./request\";\n\n// 请求上传图片接口\nexport const uploadimage = data => {\n  return request.post('/api/upload', data, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n};\n\n// 请求pdf文件\nexport const requestPDF = async request => {\n  // { url: 'http://example.com/sample.pdf', httpHeaders: { 'X-CustomHeader': '40359820958024350238508234' }, withCredentials: true }\n\n  const response = await fetch(\"http://localhost:8080/api/requestPDF\");\n  const blob = await response.blob();\n  const reader = new FileReader();\n  return await new Promise((resolve, reject) => {\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n};","map":{"version":3,"names":["request","uploadimage","data","post","headers","requestPDF","response","fetch","blob","reader","FileReader","Promise","resolve","reject","onload","result","onerror","readAsDataURL"],"sources":["E:/vsCode/react—list/my-app/src/api/upload.js"],"sourcesContent":["import request from \"./request\";\r\n\r\n// 请求上传图片接口\r\nexport const uploadimage = (data) => { \r\n  return request.post('/api/upload',\r\n  data,\r\n  {\r\n    headers:{ 'Content-Type': 'multipart/form-data'}\r\n  })\r\n};\r\n\r\n// 请求pdf文件\r\nexport const requestPDF = async (request) => { \r\n  // { url: 'http://example.com/sample.pdf', httpHeaders: { 'X-CustomHeader': '40359820958024350238508234' }, withCredentials: true }\r\n\r\n  const response = await fetch(\"http://localhost:8080/api/requestPDF\");\r\n  const blob = await response.blob();\r\n  const reader = new FileReader();\r\n  return await new Promise((resolve, reject) => {\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = reject;\r\n    reader.readAsDataURL(blob);\r\n  });\r\n  }\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,WAAW;;AAE/B;AACA,OAAO,MAAMC,WAAW,GAAIC,IAAI,IAAK;EACnC,OAAOF,OAAO,CAACG,IAAI,CAAC,aAAa,EACjCD,IAAI,EACJ;IACEE,OAAO,EAAC;MAAE,cAAc,EAAE;IAAqB;EACjD,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAG,MAAOL,OAAO,IAAK;EAC3C;;EAEA,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAC,sCAAsC,CAAC;EACpE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,EAAE;EAClC,MAAMC,MAAM,GAAG,IAAIC,UAAU,EAAE;EAC/B,OAAO,MAAM,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IAC5CJ,MAAM,CAACK,MAAM,GAAG,MAAMF,OAAO,CAACH,MAAM,CAACM,MAAM,CAAC;IAC5CN,MAAM,CAACO,OAAO,GAAGH,MAAM;IACvBJ,MAAM,CAACQ,aAAa,CAACT,IAAI,CAAC;EAC5B,CAAC,CAAC;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}